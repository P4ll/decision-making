# Задание 1. Формализация ПДД

## Требования
Необходимо формализовать модель правил дорожного движения для их последующего использования.
То есть должен быть набор правил, с помощью которых можно будет двигаться по ДОПам на автомобиле.

# Алгоритм

Есть очередь событий Q, откуда, пока очередь не пуста, каждый квант времени выбирается событие si. Событие - есть (входные условия или внешняя информация, цель объекта).
Далее идет [событие] -> обработчик события (что делать субъекту для его преодоления) для каждого субъекта.
Для упрощения принимается, что во время принятия решения на очередном событии, события до того были обработаны верно.

[есть событие] -> найти требуемые действия в зависимости от условий.

[действия найдены] -> выполнить и ждать следующее событие.

[действия не найдены] -> остановится и ждать следующее событие.

# Константы

## Общие константы

Разрешающий светофор = зелёный.

Запрещающий светофор = красный или желтый.

Дополнительные территории с запрещенной остановкой = эстакады; мосты; путепроводы.

## Ж/Д светофор

| #   | Изображение          | Значение |
| --- | ---                  | ---                      |
|1|![](pics/sem_rail_1.png)|Запрещает движение|
|2|![](pics/sem_rail_2.png)|Разрешает движение|

## Знаки

| #   | Изображение          | Значение (необязательно)           |
| --- | ---                  | ---                                |
| 1   | ![](pics/sign1.png)  |                                    |
| 2   | ![](pics/sign2.png)  |                                    |
| 3   | ![](pics/sign3.png)  |                                    |
| 4   | ![](pics/sign4.png)  |                                    |
| 5   | ![](pics/sign5.png)  |                                    |
| 6   | ![](pics/sign6.png)  |                                    |
| 7   | ![](pics/sign7.png)  |                                    |
| 8   | ![](pics/sign8.png)  |                                    |
| 9   | ![](pics/sign9.png)  |                                    |
| 10  | ![](pics/sign10.png) |                                    |
| 11  | ![](pics/sign11.png) |                                    |
| 12  | ![](pics/sign12.png) |                                    |
| 13  | ![](pics/sign13.png) |                                    |
| 14  | ![](pics/sign14.png) |                                    |
| 15  | ![](pics/sign15.png) |                                    |
| 16  | ![](pics/sign16.png) |                                    |
| 17  | ![](pics/sign17.png) |                                    |
| 18  | ![](pics/sign18.png) |                                    |
| 19  | ![](pics/sign19.png) |                                    |
| 20  | ![](pics/sign20.png) |                                    |
| 21  | ![](pics/sign21.png) |                                    |
| 22  | ![](pics/sign22.png) |                                    |
| 23  | ![](pics/sign23.png) |                                    |
| 24  | ![](pics/sign24.png) |                                    |
| 25  | ![](pics/sign25.png) |                                    |
| 26  | ![](pics/sign26.png) |                                    |
| 27  | ![](pics/sign27.png) | Остановка запрещена                |
| 28  | ![](pics/sign28.png) | Стоянка запрещена                  |
| 29  | ![](pics/sign29.png) | Стоянка запрещена по нечетным дням |
| 30  | ![](pics/sign30.png) | Стоянка запрещена по четным дням   |

## Разметка

| #   | Изображение | Значение (необязательно) |
| --- | ---         | ---                      |
|     |             |                          |

## Положения регулировщика

| #   | Положение                     | Разрешающее направление |
| --- | ---                           | ---                     |
| 1   | ![Положение 1](pics/reg1.png) |                         |
| 2   | ![Положение 2](pics/reg2.png) | прямо, направо          |
| 3   | ![Положение 3](pics/reg3.png) |                         |
| 4   | ![Положение 4](pics/reg4.png) |                         |
| 5   | ![Положение 5](pics/reg5.png) | все направления         |
| 6   | ![Положение 6](pics/reg6.png) |                         |
| 7   | ![Положение 7](pics/reg7.png) | направо                 |
| 8   | ![Положение 8](pics/reg8.png) |                         |

## Знаки, разрешающие проезд

| #   | Знаки                                                    | Разрешающее направление |
| --- | ---                                                      | ---                     |
| 1   | ![](pics/sig1.png) ![](pics/sig4.png) ![](pics/sig5.png) | прямо                   |
| 2   | ![](pics/sig2.png) ![](pics/sig4.png) ![](pics/sig6.png) | направо                 |
| 3   | ![](pics/sig3.png) ![](pics/sig5.png) ![](pics/sig6.png) | налево                  |
| 4   | все, разрешающие движение налево                         | разворот                |

## Общие правила

[был распознан дорожный знак, в таблице есть значение] -> выполнить требования согласно значению.

[была распознана дорожная разметка, в таблице есть значение] -> выполнить требования соглсано значению.

## ТС

### Проезд перекрестков

[регулируемый светофором, разрешающий цвет, разрешающий знак] -> движение в разрешенном направлении.

[регулировщик, разрешенное направление] -> движение в разрешенном направлении.

[нерегулируемый, разрешающий знак] -> движение в разрешенном направлении.

### Обгон

[предпологаемая полоса обгона пуста, разрешающая разметка, обгоняемый ТС не совершает обгон, нет запрещающих знаков, ТС двигается не по пешеходному переходу, ТС не в конце подъема с ограниченной видемостью, ТС не на мосту, путепроводе, эстакаде, до ЖД переезда >= 100 м] -> совершение обгона.

### Опережение

[выбранная полоса свободна, ТС в других полосах не замедляют ход перед пешеходным переходом] -> опережение ТС по выбранной полосе.

### Остановка

[не трамвайные пути, при остановке не будут созданы помехи трамваям, не на железнодорожном переезде, не на дополнительных территориях с запрещённой остановкой при < 3 полосах, остаётся 3+ метра для объезда или обгона, до пешеходного перехода остаётся не менее 5 метров, видимость в близи опасных участков дороги с двух сторон более 100 метров, до следующей остановки общественного ТС не менее 15 метров, до пересечения проезжих частей не менее 5 метров, не будут созданы помехи для движения велосипедистов по велосипедной дорожке, не будут созданы помехи пешеходам при переходе через проезжую часть] -> остановка ТС.

### Стоянка

[остановка в данном месте не запрещена, вне населенного пункта нет знака 1, до ЖД переезда не менее 50 метров, при наличии знака 2 для выбора положения учтены знаки 3-21] -> постановка ТС на стоянку.

### Проезд пешеходных переходов (наличие знака 23)

[регулируемый светофором, разрешающий цвет, нет помехи при движении] -> продолжить переезд.

[нерегулируемый, есть видимость двух сторон перехода, нет пешеходов на переходе] -> продолжить переезд.

[нерегулируемый, нет видимости перехода, соседние ТС не останавливаются] -> продолжить переезд.

### Движение в жилых зонах (наличие знака 22)

[движение не будет сквозным] -> продолжить движение с меньшим, чем у других участников приоритетом.

### Буксировка

[отсутствует гололёд при гибкой сцепке, при жесткой или гибкой сцепке работает рулевая система, исправна тормозная система при гибкой сцепке] -> продолжить буксировку.

### Проезд ЖД путей

[регулируется светофором, разрешающее состояние, после Ж/Д путей нет затора] -> продолжить проезд.

[регулируется шлагбаумом, шлагбаум поднят, после Ж/Д путей нет затора] -> продолжить проезд.

### Проезд мест остановки общественного транспорта (знаки 24-26)

[отъезжает общественный транспорт] -> уступить дорогу.

## Пешеход

### Переход проезжей части (наличие знака 23)

[регулируется светофором, резрешающий цвет] -> продолжать переход.

[регулировщик, регулировщик находится справа, регулировщик в положении 6] -> продолжить движение.

[регулировщик, регулировщик находится слева, регулировщик в положении 5] -> продолжить движение.

[нерегулируемый, есть реакция от водителей] -> продолжить движение.

